<!DOCTYPE HTML>
<!--[if IE 6]>
<html id="ie6" lang="en-US" class="ie ie6 lt-ie9">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US" class="ie ie7 lt-ie9">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US" class="ie ie8 lt-ie9">
<![endif]-->
<!--[if gte IE 9]>
<html lang="en-US" class="ie ie9">
<![endif]-->
<!--[if !(IE)]><!-->
<html lang="en-US" class="">
<!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <title>World is in conflict: my app is online</title>
  <link rel="stylesheet" href="assets/css/reset.css">
  <link rel="stylesheet" href="css/flowtime.css">
  <link rel="stylesheet" href="css/themes/default.css">
  <link rel="stylesheet" href="assets/css/prism.css">
    
  <link rel="apple-touch-icon-precomposed"             href="img/touch-icon-iphone.png">
  <link rel="apple-touch-icon-precomposed"   sizes="72x72"     href="img/touch-icon-ipad.png">
  <link rel="apple-touch-icon-precomposed"   sizes="114x114"   href="img/touch-icon-iphone-retina.png">
  <link rel="apple-touch-icon-precomposed"   sizes="144x144"   href="img/touch-icon-ipad-retina.png">
  
  <link rel="apple-touch-startup-image" href="img/startup-640x920.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">
  <link rel="apple-touch-startup-image" href="img/startup-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
</head>
<body class="">
  
  <div class="flowtime">
    <div class="ft-section" data-id="starters">
      <div class="ft-page" data-id="landpage" data-title="World in conflict">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>World is in conflict:</h1>
            <h2>my app is online</h2>
            <img src="nodejsconfit.png" />
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="speakers" data-title="Speakers">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Speakers</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="interactivity" data-title="Interactivity">
        <h1>Interactivity</h1>
        <h2><a href="http://nodejsconfit.mais-h.eu">http://nodejsconfit.mais-h.eu</a></h2>
        <ul>
          <li>Ask/rank questions to be discussed at the end</li>
          <li>Rate content slide by slide in real time</li>
        </ul>
        <p>TODO: screenshot</p>
      </div>
      <div class="ft-page" data-id="built-with" data-title="Slides built with">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Slides built with</h1>
            <a href="http://flowtime-js.marcolago.com/"><img src="assets/img/logo-white-shadow.png"></a>
          </div>
        </div>
      </div>
    </div>
    <div class="ft-section" data-id="introduction">
      <div class="ft-page" data-id="clientserver" data-title="Client server">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Client/server</h1>
            <svg viewBox="0 0 400 200" style="height: 25em;">
              <style scoped type="text/css" ><![CDATA[
                text {
                  text-anchor: middle;
                  dominant-baseline: middle;
                }
                #server rect {
                  stroke: #222244;
                  fill: #AAA;
                }
                #server text {
                  fill: #222244;
                }
                #client rect {
                  stroke: #442222;
                  fill: #AAA;
                }
                #client text {
                  fill: #442222;
                }
                path {
                  stroke: black;
                }
              ]]></style>
              <defs>
                <g id="server">
                  <rect x="-25" y="-25" width="50" height="50"/>
                  <text>Server</text>
                </g>
                <g id="client">
                  <rect x="-25" y="-25" width="50" height="50"/>
                  <text>Client</text>
                </g>
              </defs>
              <path d="M 200 100 L 200 30" />
              <use xlink:href="#client" x="200" y="30"/>
              <path d="M 200 100 L 300 60" />
              <use xlink:href="#client" x="300" y="60"/>
              <path d="M 200 100 L 300 140" />
              <use xlink:href="#client" x="300" y="140"/>
              <path d="M 200 100 L 200 170" />
              <use xlink:href="#client" x="200" y="170"/>
              <path d="M 200 100 L 100 140" />
              <use xlink:href="#client" x="100" y="140"/>
              <path d="M 200 100 L 100 60" />
              <use xlink:href="#client" x="100" y="60"/>

              <use xlink:href="#server" x="200" y="100"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="mostoffline" data-title="Clients mostly offline">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>... mostly offline</h1>
            <svg scoped viewBox="0 0 400 200" style="height: 25em;">
              <style type="text/css" ><![CDATA[
                text {
                  text-anchor: middle;
                  dominant-baseline: middle;
                }
                #server rect {
                  stroke: #222244;
                  fill: #BBB;
                }
                #server text {
                  fill: #222244;
                }
                #client rect {
                  stroke: #442222;
                  fill: #BBB;
                }
                .offline #client rect {
                  fill: #333;
                }
                #client text {
                  fill: #442222;
                }
                path {
                  stroke: black;
                }
              ]]></style>
              <defs>
                <g id="server">
                  <rect x="-25" y="-25" width="50" height="50"/>
                  <text>Server</text>
                </g>
                <g id="client">
                  <rect x="-25" y="-25" width="50" height="50"/>
                  <text>Client</text>
                </g>
              </defs>
              <path d="M 200 100 L 200 30" />
              <use class="offline" xlink:href="#client" x="200" y="30"/>
              <path d="M 200 100 L 300 60" />
              <use xlink:href="#client" x="300" y="60"/>
              <path d="M 200 100 L 300 140" />
              <use class="offline" xlink:href="#client" x="300" y="140"/>
              <path d="M 200 100 L 200 170" />
              <use xlink:href="#client" x="200" y="170"/>
              <path d="M 200 100 L 100 140" />
              <use class="offline" xlink:href="#client" x="100" y="140"/>
              <path d="M 200 100 L 100 60" />
              <use class="offline" xlink:href="#client" x="100" y="60"/>

              <use xlink:href="#server" x="200" y="100"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="synchronization" data-title="Synchronization">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Synchronization</h1>
            <svg viewBox="0 0 400 200" style="height: 25em;">
              <style scoped type="text/css" ><![CDATA[
                text {
                  text-anchor: middle;
                }
                .entity rect {
                  stroke: #222244;
                  fill: none;
                }
                .network path {
                  stroke: black;
                  stroke-dasharray: 4 4;
                }
                .exchange path {
                  stroke: #442222;
                  fill: none;
                }
              ]]></style>
              <g class="entity" transform="translate(10,10)">
                <rect width="120" height="50"/>
                <text x="60" y="20">Actor A</text>
                <text x="60" y="40">State 1</text>
              </g>
              <g class="entity" transform="translate(270,10)">
                <rect width="120" height="50"/>
                <text x="60" y="20">Actor B</text>
                <text x="60" y="40">State 2</text>
              </g>
              <g class="network" transform="translate(200,0)">
                <text y="20">Network</text>
                <path d="M 0 30 L 0 170" style="" />
              </g>
              <g class="entity" transform="translate(10,140)">
                <rect width="120" height="50"/>
                <text x="60" y="20">Actor A</text>
                <text x="60" y="40">State 3</text>
              </g>
              <g class="entity" transform="translate(270,140)">
                <rect width="120" height="50"/>
                <text x="60" y="20">Actor B</text>
                <text x="60" y="40">State 3</text>
              </g>
              <g class="exchange" transform="translate(120,70)">
                <path d="M 0 0 L 160 10 L 0 20 L 160 30 L 0 40 L 160 50 L 0 60" />
              </g>
            </svg>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="subject" data-title="Subject">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>As a client,</h1>
            <h1>when I come back online,</h1>
            <h1>how to synchronize with the server?</h1>
          </div>
        </div>
      </div>
    </div>
    <div class="ft-section" data-id="features">
      <div class="ft-page" data-id="features" data-title="Features">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Features!</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="operations" data-title="Operations">
        <h1>Supported operations</h1>
        <ul>
          <li>Add</li>
          <li>Modify</li>
          <li>Delete</li>
        </ul>
      </div>
      <div class="ft-page" data-id="selectivedatamodel" data-title="Selective data model">
        <h1>Selective data model</h1>
      </div>
      <div class="ft-page" data-id="evaluation" data-title="Evaluation">
        <h1>Evaluation</h1>
        <ul>
          <li>Bandwidth</li>
          <li>Roundtrips</li>
          <li>Computational cost</li>
          <li>Resiliency</li>
          <li>Setup</li>
        </ul>
      </div>
    </div>
    <div class="ft-section" data-id="common">
      <div class="ft-page" data-id="clientinitiated" data-title="Client initiated">
        <h1>Initiated by the client</h1>
        <ol>
          <li>client logs offline edits</li>
          <li>client pushes edits</li>
          <li>clients pulls changes which happened on the server</li>
        </ol>
      </div>
      <div class="ft-page" data-id="conflict" data-title="Conflicts">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Conflicts</h1>
            <svg viewBox="0 0 400 200" style="height: 25em;">
              <style scoped type="text/css" ><![CDATA[
                text {
                  text-anchor: middle;
                  dominant-baseline: middle;
                }
                path {
                  fill: none;
                }
                .timeline rect {
                  stroke: #222244;
                  fill: #BBB;
                }
                .offline rect {
                  stroke: black;
                  stroke-dasharray: 4 4;
                  fill: rgba(10, 30, 10, 0.2);
                }
                .action rect {
                  stroke: #442244;
                  fill: #DDD;
                }
                .client rect {
                  stroke: #442222;
                }
              ]]></style>
              <g class="timeline client" transform="translate(75,10)">
                <rect x="-50" y="-7" width="100" height="14"/>
                <text font-size="10">client A</text>
                <path d="M 0 10 L 0 180" />
              </g>
              <g class="timeline" transform="translate(200,10)">
                <rect x="-50" y="-7" width="100" height="14"/>
                <text font-size="10">server</text>
                <path d="M 0 10 L 0 180" />
              </g>
              <g class="timeline client" transform="translate(325,10)">
                <rect x="-50" y="-7" width="100" height="14"/>
                <text font-size="10">client B</text>
                <path d="M 0 10 L 0 180" />
              </g>
              <g class="action" transform="translate(140, 30)">
                <rect x="-40" y="-7" width="80" height="14"/>
                <text font-size="10">sync</text>
                <path d="M -65 7 L 60 7" />
              </g>
              <g class="offline" transform="translate(75, 55)">
                <rect x="-40" y="-7" width="80" height="100"/>
                <text font-size="10">offline</text>
              </g>
              <g class="action" transform="translate(75, 95)">
                <rect x="-30" y="-7" width="60" height="14"/>
                <text font-size="10">change</text>
              </g>
              <g class="action" transform="translate(265, 100)">
                <rect x="-40" y="-7" width="80" height="14"/>
                <text font-size="10">change</text>
                <path d="M -65 7 L -60 10 L -60 4 L -65 7 L 60 7" />
              </g>
              <g class="action" transform="translate(140, 160)">
                <rect x="-40" y="-7" width="80" height="14"/>
                <text font-size="10">sync/conflict</text>
                <path d="M -65 7 L 60 7" />
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div class="ft-section" data-id="wholesale">
      <div class="ft-page" data-id="transfereverything" data-title="Transfer everything">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Wholesale</h1>
            <h2>Transfer everything!</h2>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="evaluation" data-title="Evaluation">
        <h1>Evaluation</h1>
        <ul>
          <li>Bandwidth: not efficient</li>
          <li>Roundtrips: just 1</li>
          <li>Computational cost: low</li>
          <li>Resiliency: yes</li>
          <li>Setup: does anyone have a simpler idea?</li>
        </ul>
      </div>
      <div class="ft-page" data-id="versionedentities" data-title="Versioned entitied">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>With versioned entities</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="rsync" data-title="Rsync">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Rsync</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="versionedevaluation" data-title="Versioned entity evaluation">
        <h1>Versioned entities evaluation</h1>
        <ul>
          <li>Bandwidth: medium</li>
          <li>Roundtrips: 1 + number of edits</li>
          <li>Computational cost: low</li>
          <li>Resiliency: not to rogue edits</li>
          <li>Setup: remains ok</li>
        </ul>
      </div>
    </div>
    <div class="ft-section" data-id="timestamps">
      <div class="ft-page" data-id="logchanges" data-title="Log changes">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Timestamps</h1>
            <h2>Log changes!</h2>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="algorithm" data-title="Log changes">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>How to</h1>
            <svg viewBox="0 0 400 200" style="height: 25em;">
              <style scoped type="text/css" ><![CDATA[
                text {
                  text-anchor: middle;
                  dominant-baseline: middle;
                }
                .serverrevision rect {
                  stroke: #222244;
                  fill: #BBB;
                }
                .clientrevision rect {
                  stroke: #442222;
                  fill: #BBB;
                }
              ]]></style>
              <defs>
                <g id="revision">
                  <rect x="-50" y="-7" width="100" height="14"/>
                  <text font-size="10">change</text>
                </g>
              </defs>
              <g transform="translate(280, 40)">
                <rect x="-50" y="-10" width="100" height="20"/>
                <text>last sync: 10</text>
              </g>
              <use xlink:href="#revision" class="serverrevision" x="100" y="60"/>
              <use xlink:href="#revision" class="serverrevision" x="100" y="80"/>
              <use xlink:href="#revision" class="serverrevision" x="100" y="100"/>
              <use xlink:href="#revision" class="serverrevision" x="100" y="120"/>
              <use xlink:href="#revision" class="serverrevision" x="100" y="140"/>

              <use xlink:href="#revision" class="clientrevision" x="300" y="60"/>
              <use xlink:href="#revision" class="clientrevision" x="300" y="80"/>
              <use xlink:href="#revision" class="clientrevision" x="300" y="100"/>
              <use xlink:href="#revision" class="clientrevision" x="300" y="160"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="versionidentifier" data-title="Version identifier">
        <h1>Version identifier</h1>
      </div>
      <div class="ft-page" data-id="clocks" data-title="Clocks">
        <h1>Clocks</h1>
      </div>
      <div class="ft-page" data-id="filters" data-title="Filters">
        <h1>Filters</h1>
      </div>
      <div class="ft-page" data-id="evaluation" data-title="Evaluation">
        <h1>Evaluation</h1>
        <ul>
          <li>Bandwidth: efficient (with deduplicates)</li>
          <li>Roundtrips: just 1</li>
          <li>Computational cost: low for CPU / up to double database footprint</li>
          <li>Resiliency: errors remain here forever</li>
          <li>Setup: extra field to store on clients, logging infrastructure (may be here for business reasons)</li>
        </ul>
      </div>
      <div class="ft-page" data-id="couchdb" data-title="Couch/Pouchdb">
        <h1>Couch/PouchDB</h1>
      </div>
    </div>
    <div class="ft-section" data-id="mathematical">
      <div class="ft-page" data-id="description" data-title="Mathematical">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Mathematical aproach</h1>
            <h2>let's play!</h2>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="idea" data-title="Idea">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Send me a data structure</h1>
            <h1>that I will be able to decipher</h1>
            <h1>if I already have a large part of it</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="idea" data-title="Idea">
        <div class="stack-center">
          <div class="stacked-center">
            <h1>Combine with versioning</h1>
          </div>
        </div>
      </div>
      <div class="ft-page" data-id="evaluation" data-title="Evaluation">
        <h1>Evaluation</h1>
        <ul>
          <li>Bandwidth: O(changeset size)</li>
          <li>Roundtrips: O(log(changeset size))</li>
          <li>Computational cost: high</li>
          <li>Error correction: fix on next synchronization</li>
          <li>Setup: ?</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="loglog"></div>
  
  <script src="js/brav1toolbox.js"></script>
  <script src="js/flowtime.js"></script>
  <script src="assets/js/prism.js"></script>

  <script type="text/javascript">
    var cacheTitle = document.title.replace("Flowtime.js | ", "");
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1228618-10']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackEvent', 'Flowtime', 'Landing', document.title]);
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    
    // Configuration API test
    Flowtime.showProgress(true);
    // Flowtime.fragmentsOnSide(true);
    // Flowtime.fragmentsOnBack(true);
    // Flowtime.useHistory(false);
    // Flowtime.slideInPx(true);
    // Flowtime.sectionsSlideToTop(true);
    // Flowtime.gridNavigation(false);
    // Flowtime.useOverviewVariant(true);
    Flowtime.parallaxInPx(true);
    Flowtime.mouseDragEnabled(true);
    //
    // event management
    Flowtime.addEventListener("flowtimenavigation", onNavigation, false);
    function onNavigation(e)
    {
      _gaq.push(['_trackEvent', 'Flowtime', 'Navigation', cacheTitle + ' > ' + document.title.replace("Flowtime.js | ", "")]);
      // console.log(cacheTitle + ' > ' + document.title.replace("Flowtime.js | ", ""));
      cacheTitle = document.title.replace("Flowtime.js | ", "");
      //console.log('section', e.section, 'sectionIndex', e.sectionIndex);
      //console.log('page', e.page, 'pageIndex', e.);
      //console.log('pastSectionIndex', e.pastSectionIndex, 'pastPageIndex', e.pastPageIndex);
      //console.log('prevSection', e.prevSection);
      //console.log('nextSection', e.nextSection);
      //console.log('prevPage', e.prevPage);
      //console.log('nextPage', e.nextPage);
      //console.log('fragment', e.fragment, + 'fragmentIndex', e.fragmentIndex);
      //console.log("isOverview", e.isOverview);
      //console.log('progress:', e.progress, 'total:', e.total);
      // var value = Math.round(e.progress * 100 / e.total);
      // console.log('Completion: ' + value + '%');
    }
    // starts the application with configuration options
    Flowtime.start();
  </script>
</body>
</html>
